function calliOSFunction(e,t,r,i){var n="js-frame:";if(i.functionname=e,t)if("function"==typeof t){var a=createCallbackFunction(e+"_successCallback",t);i.success=a}else i.success=t;if(r)if("function"==typeof r){var a=createCallbackFunction(e+"_errorCallback",r);i.error=a}else i.error=r;n+=JSON.stringify(i);var s=createIFrame(n);s.parentNode.removeChild(s)}function createCallbackFunction(e,t){if(t&&null!=t.name&&t.name.length>0)return t.name;if("function"!=typeof window[e+0])return window[e+0]=t,__functionIndexMap[e]=0,e+0;for(var r=__functionIndexMap[e],i=t.toString(),n=0;r>=n;n++){var a=e+n;if(window[a].toString()==i)return a}var s=++__functionIndexMap[e];return window[e+s]=t,e+s}function createIFrame(e){var t=document.documentElement,r=document.createElement("IFRAME");return r.setAttribute("src",e),t.appendChild(r),r}function onSuccess(e){if(e){var t=JSON.parse(e),r=Object.keys(t.result)[0];"readFromDB"==r&&getFromDatabase(t.result.readFromDB,stringPageTypeCurrent)}}function onError(e){if(e){JSON.parse(e)}}function readfromDB(){var e={};e.data={},e.data.SPAJAnswers={},e.data.SPAJAnswers.columns="elementID,Value,SPAJID,CustomerID",e.data.SPAJAnswers.where="",calliOSFunction("readfromDB:",onSuccess,onError,e)}function savetoDB(){var e,t=0,r=!0;if(0==r||stringPageSectionCurrent!=stringPageSectionBeneficiariesList&&$("input:text[required]").each(function(){e=$(this).val();var t=$("label[for='"+this.id+"']");return void 0==e||null==e||""==e?(null==$(this).attr("data-validation")?ReplaceHTMLNameOnValidate("",t.text()+" harap diisi."):ReplaceHTMLNameOnValidate("",$(this).attr("data-validation")+" harap dipilih."),r=!1,!1):void 0}),0==r);else{var i;$("input[type=checkbox][required]").each(function(){i=$(this).attr("name");var e=$("label[for='"+this.name+"']"),t=!1;return $("input[type=checkbox][name='"+i+"']").each(function(){return 1==$(this).prop("checked")?(t=!0,!1):void 0}),0==t?(ReplaceHTMLNameOnValidate("",e.text()+" harap diisi."),r=!1,!1):void 0})}if(0==r);else try{var n=!1,a=["RadioButtonPolicyHolderSalary","RadioButtonPolicyHolderRevenue","RadioButtonPolicyHolderOtherIncome"];if(stringPageValidationCurrent==stringPageValidationIncome){var s=0;$("input:text[data-customvalidation='"+stringPageValidationIncome+"']").each(function(){if($(this).val()>0){var e=$("input:radio[name="+a[s]+"]:checked")["var"]();if(null!=e&&void 0!=e&&""!=e)return n=!0,!1}s++}),0==n&&(r=!1,ReplaceHTMLNameOnValidate("","Harap mengisi penghasilan kotor minimum satu jenis"))}}catch(o){alert(o)}if(0==r||stringPageSectionCurrent!=stringPageSectionBeneficiariesList&&$("input:radio[required]").each(function(){e=getRadioButtonGeneral($(this).attr("name"));var i=$("label[for='"+this.name+"']");if(t!=$(this).attr("name")){if(void 0==e)return ReplaceHTMLNameOnValidate("",i.text()+" harap dipilih."),r=!1,!1;t=$(this).attr("name")}}),stringPageSectionCurrent==stringPageSectionBeneficiariesList){if(0==r);else if(100!=intSharePercentage)return ReplaceHTMLNameOnValidate("","Jumlah share percentage harus 100 !."),r=!1,!1;if(0==r);else{for(var l,g=stringPrefixText+stringBeneficiariesListInfix+"FullName",u=!1,f=0;f<arrayBeneficiariesList.length;f++)l=arrayBeneficiariesList[f].elementID.substring(0,g.length),l==g&&(u=!0);if(0==u)return ReplaceHTMLNameOnValidate("","Masukkan daftar penerima manfaat paling tidak satu !."),r=!1,!1}}if(0==r||$("input:text").each(function(){return $(this).attr("data-validation")==stringPrefixEmail&&(r=validateEmail($(this).attr("id")),0==r)?!1:void 0}),0==r);else{var c;if(stringPageSectionCurrent==stringPageSectionHealthQuestionnaire){var d=stringPageInfixTypeCurrent,p=stringPrefixText+d+"Height",h=(stringKres+p,getTextForm(p)),P=stringPrefixText+d+"Weight",x=(stringKres+p,getTextForm(P)),m=stringPrefixText+d+"BabyHeight",y=(stringKres+p,getTextForm(m)),v=stringPrefixText+d+"BabyWeight",b=(stringKres+p,getTextForm(v)),S=stringPrefixText+d+"PregnantWeek",T=(stringKres+S,getTextForm(S)),I=stringPrefixRadioButton+d+"Pregnant",B=(stringKres+I,getRadioButtonGeneral(I)),D=stringPrefixRadioButton+d+"Pregnancy",F=(stringKres+D,getRadioButtonGeneral(D)),H=stringPrefixRadioButton+d+"WeightChange",A=(stringKres+H,getRadioButtonGeneral(H));arrayValidatePush(arrayHealthQuestionnaire,p,h),arrayValidatePush(arrayHealthQuestionnaire,P,x),arrayValidatePush(arrayHealthQuestionnaire,m,y),arrayValidatePush(arrayHealthQuestionnaire,v,b),arrayValidatePush(arrayHealthQuestionnaire,S,T),arrayValidatePush(arrayHealthQuestionnaire,I,B),arrayValidatePush(arrayHealthQuestionnaire,D,F),arrayValidatePush(arrayHealthQuestionnaire,H,A),c=arrayHealthQuestionnaire}else stringPageSectionCurrent==stringPageSectionBeneficiariesList?c=arrayBeneficiariesList:(c=setToDatabase(stringPageTypeCurrent),0==arrayForeigner.length||arrayTransfer(arrayForeigner,c));var K=JSONGenerator(c);booleanInputChangeState="false",calliOSFunction("savetoDB:",onSuccess,onError,K),arrayHealthQuestionnaire=[],arrayBeneficiariesList=[],arrayForeigner=[]}}function PrintData(){savetoDB()}function AutoPopulate(e){var t=JSON.parse(e),r=Object.keys(t.result)[0];"autopopulateFromDB"==r&&getFromDatabase(t.result.autopopulateFromDB,stringPageTypeCurrent)}function ReadData(){readfromDB()}function ReplaceHTMLNameOnValidate(e,t){var r={};r.data={},r.data.title=e,r.data.body=t,calliOSFunction("showAlert:",onSuccess,onError,r)}__functionIndexMap={};
