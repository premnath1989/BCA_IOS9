function calliOSFunction(e,t,n,r){var i="js-frame:";if(r.functionname=e,t)if("function"==typeof t){var a=createCallbackFunction(e+"_successCallback",t);r.success=a}else r.success=t;if(n)if("function"==typeof n){var a=createCallbackFunction(e+"_errorCallback",n);r.error=a}else r.error=n;i+=JSON.stringify(r);var s=createIFrame(i);s.parentNode.removeChild(s)}function createCallbackFunction(e,t){if(t&&null!=t.name&&t.name.length>0)return t.name;if("function"!=typeof window[e+0])return window[e+0]=t,__functionIndexMap[e]=0,e+0;for(var n=__functionIndexMap[e],r=t.toString(),i=0;n>=i;i++){var a=e+i;if(window[a].toString()==r)return a}var s=++__functionIndexMap[e];return window[e+s]=t,e+s}function createIFrame(e){var t=document.documentElement,n=document.createElement("IFRAME");return n.setAttribute("src",e),t.appendChild(n),n}function onSuccess(e){if(e){var t=JSON.parse(e),n=Object.keys(t.result)[0];"readFromDB"==n&&getFromDatabase(t.result.readFromDB,stringPageTypeCurrent)}}function onError(e){if(e){JSON.parse(e)}}function readfromDB(){var e={};e.data={},e.data.SPAJAnswers={},e.data.SPAJAnswers.columns="elementID,Value,SPAJID,CustomerID",e.data.SPAJAnswers.where="",calliOSFunction("readfromDB:",onSuccess,onError,e)}function savetoDB(){var e,t=0,n=!0;if(0==n||stringPageSectionCurrent!=stringPageSectionBeneficiariesList&&$("input:text[required]").each(function(){e=$(this).val();var t=$("label[for='"+this.id+"']");return void 0==e||null==e||""==e?(null==$(this).attr("data-validation")?ReplaceHTMLNameOnValidate("",t.text()+" harap diisi."):ReplaceHTMLNameOnValidate("",$(this).attr("data-validation")+" harap dipilih."),n=!1,!1):void 0}),0==n);else{var r;$("input[type=checkbox][required]").each(function(){r=$(this).attr("name");var e=$("label[for='"+this.name+"']"),t=!1;return $("input[type=checkbox][name='"+r+"']").each(function(){return 1==$(this).prop("checked")?(t=!0,!1):void 0}),0==t?(ReplaceHTMLNameOnValidate("",e.text()+" harap diisi."),n=!1,!1):void 0})}if(0==n);else{var i=!1;stringPageValidationCurrent==stringPageValidationIncome&&($("input:text[data-customvalidation='"+stringPageValidationIncome+"']").each(function(){return $(this).val()>0?(i=!0,!1):void 0}),0==i&&(n=!1,ReplaceHTMLNameOnValidate("","Harap mengisi penghasilan kotor minimum satu jenis")))}if(0==n||stringPageSectionCurrent!=stringPageSectionBeneficiariesList&&$("input:radio[required]").each(function(){e=getRadioButtonGeneral($(this).attr("name"));var r=$("label[for='"+this.name+"']");if(t!=$(this).attr("name")){if(void 0==e)return ReplaceHTMLNameOnValidate("",r.text()+" harap dipilih."),n=!1,!1;t=$(this).attr("name")}}),stringPageSectionCurrent==stringPageSectionBeneficiariesList){if(0==n);else if(100!=intSharePercentage)return ReplaceHTMLNameOnValidate("","Jumlah share percentage harus 100 !."),n=!1,!1;if(0==n);else{for(var a,s=stringPrefixText+stringBeneficiariesListInfix+"FullName",o=!1,l=0;l<arrayBeneficiariesList.length;l++)a=arrayBeneficiariesList[l].elementID.substring(0,s.length),a==s&&(o=!0);if(0==o)return ReplaceHTMLNameOnValidate("","Masukkan daftar penerima manfaat paling tidak satu !."),n=!1,!1}}if(0==n||$("input:text").each(function(){return $(this).attr("data-validation")==stringPrefixEmail&&(n=validateEmail($(this).attr("id")),0==n)?!1:void 0}),0==n);else{var u;if(stringPageSectionCurrent==stringPageSectionHealthQuestionnaire){var c=stringPageInfixTypeCurrent,f=stringPrefixText+c+"Height",g=(stringKres+f,getTextForm(f)),d=stringPrefixText+c+"Weight",p=(stringKres+f,getTextForm(d)),h=stringPrefixText+c+"BabyHeight",x=(stringKres+f,getTextForm(h)),m=stringPrefixText+c+"BabyWeight",y=(stringKres+f,getTextForm(m)),P=stringPrefixText+c+"PregnantWeek",v=(stringKres+P,getTextForm(P)),b=stringPrefixRadioButton+c+"Pregnant",T=(stringKres+b,getRadioButtonGeneral(b)),S=stringPrefixRadioButton+c+"Pregnancy",B=(stringKres+S,getRadioButtonGeneral(S)),I=stringPrefixRadioButton+c+"WeightChange",D=(stringKres+I,getRadioButtonGeneral(I));arrayValidatePush(arrayHealthQuestionnaire,f,g),arrayValidatePush(arrayHealthQuestionnaire,d,p),arrayValidatePush(arrayHealthQuestionnaire,h,x),arrayValidatePush(arrayHealthQuestionnaire,m,y),arrayValidatePush(arrayHealthQuestionnaire,P,v),arrayValidatePush(arrayHealthQuestionnaire,b,T),arrayValidatePush(arrayHealthQuestionnaire,S,B),arrayValidatePush(arrayHealthQuestionnaire,I,D),u=arrayHealthQuestionnaire}else stringPageSectionCurrent==stringPageSectionBeneficiariesList?u=arrayBeneficiariesList:(u=setToDatabase(stringPageTypeCurrent),0==arrayForeigner.length||arrayTransfer(arrayForeigner,u));var C=JSONGenerator(u);booleanInputChangeState="false",calliOSFunction("savetoDB:",onSuccess,onError,C),arrayHealthQuestionnaire=[],arrayBeneficiariesList=[],arrayForeigner=[]}}function PrintData(){savetoDB()}function AutoPopulate(e){var t=JSON.parse(e),n=Object.keys(t.result)[0];"autopopulateFromDB"==n&&getFromDatabase(t.result.autopopulateFromDB,stringPageTypeCurrent)}function ReadData(){readfromDB()}function ReplaceHTMLNameOnValidate(e,t){var n={};n.data={},n.data.title=e,n.data.body=t,calliOSFunction("showAlert:",onSuccess,onError,n)}__functionIndexMap={};
