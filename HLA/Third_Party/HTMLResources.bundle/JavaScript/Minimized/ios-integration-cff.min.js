function calliOSFunction(e,t,r,n){var i="js-frame:";if(n.functionname=e,t)if("function"==typeof t){var a=createCallbackFunction(e+"_successCallback",t);n.success=a}else n.success=t;if(r)if("function"==typeof r){var a=createCallbackFunction(e+"_errorCallback",r);n.error=a}else n.error=r;i+=JSON.stringify(n);var s=createIFrame(i);s.parentNode.removeChild(s)}function createCallbackFunction(e,t){if(t&&null!=t.name&&t.name.length>0)return t.name;if("function"!=typeof window[e+0])return window[e+0]=t,__functionIndexMap[e]=0,e+0;for(var r=__functionIndexMap[e],n=t.toString(),i=0;r>=i;i++){var a=e+i;if(window[a].toString()==n)return a}var s=++__functionIndexMap[e];return window[e+s]=t,e+s}function createIFrame(e){var t=document.documentElement,r=document.createElement("IFRAME");return r.setAttribute("src",e),t.appendChild(r),r}function onSuccess(e){if(e){var t=JSON.parse(e),r=Object.keys(t.result)[0];"readFromDB"==r&&getFromDatabase(t.result.readFromDB,stringPageTypeCurrent)}}function onError(e){if(e){JSON.parse(e)}}function readfromDB(){var e={};e.data={},e.data.CFFAnswers={},e.data.CFFAnswers.columns="elementID,Value,CFFID,CustomerID",e.data.CFFAnswers.where="",calliOSFunction("readfromDB:",onSuccess,onError,e)}function savetoDB(){var e,t=0,r=!0;if(0==r||stringPageSectionCurrent!=stringPageSectionBeneficiariesList&&$("input:text[required]").each(function(){e=$(this).val();var t=$("label[for='"+this.id+"']");return void 0==e||null==e||""==e?(ReplaceHTMLNameOnValidate("",t.text()+" harap diisi."),r=!1,!1):void 0}),0==r);else{var n=!1;stringPageValidationCurrent==stringPageValidationIncome&&($("input:text[data-customvalidation='"+stringPageValidationIncome+"']").each(function(){return $(this).val()>0?(n=!0,!1):void 0}),0==n&&(r=!1,ReplaceHTMLNameOnValidate("","Harap mengisi penghasilan kotor minimum satu jenis")))}if(0==r||stringPageSectionCurrent!=stringPageSectionBeneficiariesList&&$("input:radio[required]").each(function(){e=getRadioButtonGeneral($(this).attr("name"));var n=$("label[for='"+this.name+"']");if(t!=$(this).attr("name")){if(void 0==e)return null==$(this).attr("data-validation")?ReplaceHTMLNameOnValidate("",n.text()+" harap dipilih."):(alert($(this).attr("data-validation")+" harap dipilih."),ReplaceHTMLNameOnValidate("",$(this).attr("data-validation")+" harap dipilih.")),r=!1,!1;t=$(this).attr("name")}}),stringPageSectionCurrent==stringPageSectionBeneficiariesList){if(0==r);else if(100!=intSharePercentage)return ReplaceHTMLNameOnValidate("","Jumlah share percentage harus 100 !."),r=!1,!1;if(0==r);else{for(var i,a=stringPrefixText+stringBeneficiariesListInfix+"FullName",s=!1,o=0;o<arrayBeneficiariesList.length;o++)i=arrayBeneficiariesList[o].elementID.substring(0,a.length),i==a&&(s=!0);if(0==s)return ReplaceHTMLNameOnValidate("","Masukkan daftar penerima manfaat paling tidak satu !."),r=!1,!1}}if(0==r);else{var l;if(stringPageSectionCurrent==stringPageSectionHealthQuestionnaire){var u=stringPageInfixTypeCurrent,c=stringPrefixText+u+"Height",g=(stringKres+c,getTextForm(c)),f=stringPrefixText+u+"Weight",d=(stringKres+c,getTextForm(f)),p=stringPrefixText+u+"BabyHeight",h=(stringKres+c,getTextForm(p)),x=stringPrefixText+u+"BabyWeight",m=(stringKres+c,getTextForm(x)),P=stringPrefixText+u+"PregnantWeek",y=(stringKres+P,getTextForm(P)),v=stringPrefixRadioButton+u+"Pregnant",b=(stringKres+v,getRadioButtonGeneral(v)),T=stringPrefixRadioButton+u+"Pregnancy",S=(stringKres+T,getRadioButtonGeneral(T)),B=stringPrefixRadioButton+u+"WeightChange",D=(stringKres+B,getRadioButtonGeneral(B));arrayValidatePush(arrayHealthQuestionnaire,c,g),arrayValidatePush(arrayHealthQuestionnaire,f,d),arrayValidatePush(arrayHealthQuestionnaire,p,h),arrayValidatePush(arrayHealthQuestionnaire,x,m),arrayValidatePush(arrayHealthQuestionnaire,P,y),arrayValidatePush(arrayHealthQuestionnaire,v,b),arrayValidatePush(arrayHealthQuestionnaire,T,S),arrayValidatePush(arrayHealthQuestionnaire,B,D),l=arrayHealthQuestionnaire}else l=stringPageSectionCurrent==stringPageSectionBeneficiariesList?arrayBeneficiariesList:setToDatabase(stringPageTypeCurrent);var I=JSONGenerator(l);booleanInputChangeState="false",calliOSFunction("savetoDB:",onSuccess,onError,I),arrayHealthQuestionnaire=[],arrayBeneficiariesList=[]}}function PrintData(){savetoDB()}function AutoPopulate(e){var t=JSON.parse(e),r=Object.keys(t.result)[0];"autopopulateFromDB"==r&&getFromDatabase(t.result.autopopulateFromDB,stringPageTypeCurrent)}function ReadData(){readfromDB()}function ReplaceHTMLNameOnValidate(e,t){var r={};r.data={},r.data.title=e,r.data.body=t,calliOSFunction("showAlert:",onSuccess,onError,r)}__functionIndexMap={};
